#!/usr/bin/env bash
# localhost resolves to 127.0.0.2
# facebook.com resolves to 8.8.8.8
# The checker is running on Docker

# Create a temporary hosts file for modification
TEMP_HOSTS=$(mktemp)

# Copy the current hosts file to the temporary location
cp /etc/hosts $TEMP_HOSTS

# Modify the temporary hosts file using sed
sed -i 's/127.*$/127.0.0.2 localhost/' $TEMP_HOSTS
echo "8.8.8.8 facebook.com" >> $TEMP_HOSTS

# Overwrite the original hosts file with the modified version
cp -f $TEMP_HOSTS /etc/hosts

# Clean up by removing the temporary file
rm $TEMP_HOSTS

